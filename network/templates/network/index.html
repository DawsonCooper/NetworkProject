{% extends "network/layout.html" %}

{% block body %}
    <div id='index-body'>
        <div id='post-container'>
            <!-- DISPLAY 10 POSTS ONCE AT THE BOTTOM USERS SHOULD BE ABLE TO GO TO THE NEXT PAGE UNTIL 
            THEY REACH THE END THEY SHOULD THEN BE ABLE TO NAVIGATE BACK -->
            {% for i in posts %}
            <div class='single-post-container' id='{{ i.id }}'>
                <div class='user-info'>
                <!--Profile pic and username once foreinkey works and 
                    if statement if user == request.user display an edit button on seperate side -->
                    <box-icon id='profilePicIcon' name='user-circle' size='sm' color='rgb(230, 230, 230)'></box-icon>{{ i.username }}
                </div>
                <div class='post-content'>
                    <p>
                        {{ i.caption }}
                    </p>
                </div>
                <!-- if image != False display small image when clicked gets larger and blurs background like modal -->

                <div class='post-footer'>
                    <div class='interactions'>
                        <form class='interaction-form' method='POST'>
                            {% csrf_token %}
                            <div class='interaction-form'>
                                <button type='submit' class='like interaction-button' name='{{ i.id }}'><box-icon color='white' size='sm' name='like' class='interaction-icons'></box-icon></button>
                                <p>{{ i.totalLikes }}</p>
                            </div>
                            <div class='interaction-form'>
                                <button type='submit' class='dislike interaction-button' name='{{ i.id }}'><box-icon color='white' size='sm' name='dislike' class='interaction-icons'></box-icon></button>
                                <button type='submit' class='comment interaction-button' name='{{ i.id }}'><box-icon color='white' size='sm' name='comment' class='interaction-icons'></box-icon></button>
                                <p>{{ i.totalComments }}</p>
                            </div>
                        </form>
                    </div>
                    <div class='post-timestamp'>
                        <div class='edit-post'>
                            <button type="button" id='edit-post-button' class="btn btn-dark" data-toggle="modal" data-target="#modalBackdrop" data-whatever="@getbootstrap">
                                <box-icon animation='none' id='newPostSvg' name='plus-circle' size='30px' color="rgb(230, 230, 230)"></box-icon></button>
                        
                                <div class="modal fade" id="modalBackdrop" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="background-color: rgba(125, 125, 125, 0.25)">
                                    <div class="modal-dialog" role="document" tabindex='5'>
                                    <div class="modal-content">
                                    <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">New Post</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true"><box-icon name='x-circle' color='white' size='sm'></box-icon></span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                <form action='/' method='POST'>
                                    {% csrf_token %}
                                  <div id='textarea-div' class="form-group">
                                    {{ postForm.caption }}            
                                  
                                    <div id='image-container'>
                                        <label for='id_image' id='image-label'><box-icon name='image-add' color='white'></box-icon></label>
                                        <div id='image-input'>{{ postForm.image }}</div>
                                    </div>
                                </div>
                                      </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <input type="submit" value='Submit'>
                             </form>
                             </div>
                            </div>
                          </div>
                        </div>
                        </div>
                        {{ i.timestamp }}
                    </div>
                </div>
            </div>
            {% endfor %}
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center">
                  <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                  </li>

                  <li class="page-item">
                    <a class="page-link" href="#">Next</a>
                  </li>
                </ul>
              </nav>
        </div>
    </div>
    


{% endblock %}